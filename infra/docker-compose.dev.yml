# Local development only â€” plain HTTP, no TLS, registration open.
# NOT for production use.
#
# Usage:
#   docker compose -f infra/docker-compose.dev.yml up -d
#   docker compose -f infra/docker-compose.dev.yml down -v   # wipe state

services:
  conduit:
    image: matrixconduit/matrix-conduit:latest
    ports:
      - "8448:8448"
    environment:
      CONDUIT_CONFIG: /etc/conduit.toml
    volumes:
      - ./conduit.dev.toml:/etc/conduit.toml:ro
      - conduit_dev_data:/var/lib/matrix-conduit

  livekit:
    image: livekit/livekit-server:latest
    command: --config /etc/livekit.yaml --dev
    ports:
      - "7880:7880"
      - "7881:7881"
    volumes:
      - ./livekit.dev.yaml:/etc/livekit.yaml:ro

volumes:
  conduit_dev_data:
